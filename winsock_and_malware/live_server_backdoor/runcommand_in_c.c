#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main( int argc, char *argv[] )
{
    FILE *fp;
    char path[1035];
    char command[100];
    do {
        printf("command>> ");
        scanf("%[^\n]%*c", command);
        /* Open the command for reading. */
        fp = popen(command, "r");
        if (fp == NULL) {
            printf("Failed to run command\n" );
            exit(1);
        }
        /* Read the output a line at a time - output it. */
        while (fgets(path, sizeof(path), fp) != NULL) {
            printf("%s", path);
        }
        /* close */
        pclose(fp);
    }while(strncmp(command, "exit", 4));
    return 0;
}

