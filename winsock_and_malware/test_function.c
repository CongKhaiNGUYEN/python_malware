#include <stdio.h>
#include <windows.h>


char* get_version(){

    char* return_string = (char*)malloc(50);
    DWORD dwVersion = 0; 
    DWORD dwMajorVersion = 0;
    DWORD dwMinorVersion = 0; 
    DWORD dwBuild = 0;

    dwVersion = GetVersion();
 
    // Get the Windows version.

    dwMajorVersion = (DWORD)(LOBYTE(LOWORD(dwVersion)));
    dwMinorVersion = (DWORD)(HIBYTE(LOWORD(dwVersion)));

    // Get the build number.

    if (dwVersion < 0x80000000)              
        dwBuild = (DWORD)(HIWORD(dwVersion));

    sprintf(return_string,"Version is %d.%d (%d)\n", dwMajorVersion,dwMinorVersion,dwBuild);
    return return_string;
}

void main(){
    printf("\n%s\n", get_version());
}